"use strict";class StickyHeader{constructor(){let a=this;this.$xpthemeHeader=jQuery(".xptheme_header-template"),this.$xpthemeHeaderMain=jQuery(".xptheme_header-template .header-main"),this.$xpthemeHeader.hasClass("main-sticky-header")&&0<this.$xpthemeHeaderMain.length&&this._initStickyHeader(),this._intSearchOffcanvas;let b=jQuery(".element-sticky-header");0<b.length&&a._initELementStickyheader(b)}_initStickyHeader(){var a=this,b=jQuery(window).width(),c=a.$xpthemeHeader.outerHeight(),d=a.$xpthemeHeaderMain.outerHeight(),f=0<jQuery("#wpadminbar").length?jQuery("#wpadminbar").outerHeight():0,g=a.$xpthemeHeaderMain.offset().top;if(1024<=b)if(0==g||g==f){if(a.$xpthemeHeader.hasClass("sticky-header"))return;a._stickyHeaderOnDesktop(d,g,f),a.$xpthemeHeaderMain.addClass("sticky-1"),jQuery(window).scroll(function(){jQuery(this).scrollTop()>c?a.$xpthemeHeaderMain.addClass("sticky-box"):a.$xpthemeHeaderMain.removeClass("sticky-box")})}else jQuery(window).scroll(function(){if(a.$xpthemeHeader.hasClass("main-sticky-header"))if(jQuery(this).scrollTop()>g-f){if(a.$xpthemeHeader.hasClass("sticky-header"))return;a._stickyHeaderOnDesktop(d,g,f)}else a.$xpthemeHeaderMain.css("top",0).css("position","relative").removeClass("sticky-header").parent().css("padding-top",0),a.$xpthemeHeaderMain.prev().css("margin-bottom",0)})}_stickyHeaderOnDesktop(a,b,c){this.$xpthemeHeaderMain.addClass("sticky-header").css("top",c).css("position","fixed"),0==b||b==c?this.$xpthemeHeaderMain.parent().css("padding-top",a):this.$xpthemeHeaderMain.prev().css("margin-bottom",a)}_intSearchOffcanvas(){if(0!==jQuery("#xptheme-offcanvas-main").length){jQuery("[data-toggle=\"offcanvas-main-search\"]").off().on("click",function(){jQuery("#wrapper-container").toggleClass("show"),jQuery("#xptheme-offcanvas-main").toggleClass("show")});var a=jQuery("#xptheme-offcanvas-main, .search");jQuery(window).on("click.Bst",function(b){0!=a.has(b.target).length||a.is(b.target)||(jQuery("#wrapper-container").removeClass("show"),jQuery("#xptheme-offcanvas-main").removeClass("show"))})}}_initELementStickyheader(a){var b=a.first();let c=this;var d=!1,f=0,g=0;if(0!==b.parents(".xptheme_header-template").length){var h=0<jQuery("#wpadminbar").length?jQuery("#wpadminbar").outerHeight():0,i=b.offset().top-jQuery(window).scrollTop()-h,j=i;b.prevAll().each(function(){g+=jQuery(this).outerHeight()}),a.each(function(){0<jQuery(this).parents(".element-sticky-header").length||(f+=jQuery(this).outerHeight())}),c._initELementStickyheaderContent(i,j,f,g,a,b,h,d),jQuery(window).scroll(function(){d=!0,0===jQuery(window).scrollTop()&&(j=0),c._initELementStickyheaderContent(i,j,f,g,a,b,h,d)})}}_initELementStickyheaderContent(a,b,c,d,f,g,h,i){if(jQuery(window).scrollTop()<d&&i||0===jQuery(window).scrollTop()&&i){if(g.parent().children().first().hasClass("element-sticky-header"))return;g.css("top",""),b===a||0===b?f.last().next().css("padding-top",""):g.prev().css("margin-bottom",""),g.parent().css("padding-top",""),f.each(function(){jQuery(this).removeClass("sticky"),0<jQuery(this).prev(".element-sticky-header").length&&jQuery(this).css("top","")})}else{if(jQuery(window).scrollTop()<d&&!i)return;f.each(function(){if(!(0<jQuery(this).parents(".element-sticky-header").length)&&(jQuery(this).addClass("sticky"),0<jQuery(this).prevAll(".element-sticky-header").length)){let a=0;jQuery(this).prevAll(".element-sticky-header").each(function(){a+=jQuery(this).outerHeight()}),jQuery(this).css("top",a+h)}}),g.css("top",h),b===a||0===b?(g.addClass("sticky"),g.parent().css("padding-top",c)):g.prev().css("margin-bottom",c)}}}const TREE_VIEW_OPTION_MEGA_MENU={animated:300,collapsed:!0,unique:!0,persist:"location"},TREE_VIEW_OPTION_MOBILE_MENU={animated:300,collapsed:!0,unique:!0,hover:!1};class Mobile{constructor(){this._mobileMenu(),this._Select_change_form(),this._topBarDevice(),jQuery(window).scroll(()=>{this._topBarDevice()})}_topBarDevice(){const a=jQuery(window),b=a.scrollTop(),c=0<jQuery("#wpadminbar").length?jQuery("#wpadminbar").outerHeight():0,d=a.scrollTop(),f=jQuery(".topbar-device-mobile");f.toggleClass("active",b<=c),jQuery("#xptheme-mobile-menu").toggleClass("offsetop",0==d)}_mobileMenu(){const a=jQuery("#wrapper-container"),b=jQuery("#xptheme-mobile-menu");jQuery("[data-toggle=\"offcanvas\"], .btn-offcanvas").on("click",function(){a.toggleClass("active"),b.toggleClass("active")}),jQuery("#main-mobile-menu .caret").on("click",function(){jQuery("#main-mobile-menu .dropdown").removeClass("open"),jQuery(event.target).parent().addClass("open")})}_Select_change_form(){jQuery(".topbar-device-mobile > form select").on("change",function(){this.form.submit()})}}class AccountMenu{constructor(){this._slideToggleAccountMenu(".xptheme-login"),this._slideToggleAccountMenu(".topbar-mobile"),this._xpthemeClickNotMyAccountMenu()}_xpthemeClickNotMyAccountMenu(){const a=jQuery(window),b=jQuery(".xptheme-login .dropdown .account-menu,.topbar-mobile .dropdown .account-menu,.xptheme-login .dropdown .account-button,.topbar-mobile .dropdown .account-button");a.on("click.Bst",function(a){0!==b.has(a.target).length||b.is(a.target)||jQuery(".xptheme-login .dropdown .account-menu, .topbar-mobile .dropdown .account-menu").slideUp(500)})}_slideToggleAccountMenu(a){jQuery(a).find(".dropdown .account-button").on("click",function(){jQuery(a).find(".dropdown .account-menu").slideToggle(500)})}}class BackToTop{constructor(){this._init()}_init(){const a=jQuery(window),b=jQuery("#back-to-top-mobile"),c=jQuery("#back-to-top"),d=jQuery(".xptheme-category-fixed"),f=jQuery(".xptheme-to-top");a.scroll(function(){const b=400<a.scrollTop();f.toggleClass("active",b),d.toggleClass("active",b)}),b.add(c).on("click",function(){jQuery("html, body").animate({scrollTop:"0px"},0)})}}class FuncCommon{constructor(){this._progressAnimation(),this._createWrapStart(),jQuery(".mod-heading .widget-title > span").wrapStart(),this._xpthemeActiveAdminBar(),this._xpthemeResizeMegamenu(),this._initHeaderCoverBG(),this._initCanvasSearch(),this._initTreeviewMenu(),this._categoryMenu(),jQuery(window).scroll(()=>{this._xpthemeActiveAdminBar()}),jQuery(window).on("resize",()=>{this._xpthemeResizeMegamenu()}),this._moveFormLogin(),this._moveFormCoupon(),this._moveNoticesLogin(),this._xpthemeMainContentMinHeight(),this._xpthemeCompareOpenAddClassBody(),this._xpthemeImageColorTab()}_xpthemeActiveAdminBar(){const a=jQuery("#wpadminbar");0<a.length&&jQuery("body").addClass("active-admin-bar")}_createWrapStart(){jQuery.fn.wrapStart=function(){return this.each(function(){const a=jQuery(this),b=a.contents().filter(function(){return 3==this.nodeType}).first(),c=b.text().trim(),d=c.split(" ",1).join(" ");b.length&&(b[0].nodeValue=c.slice(d.length),b.before("<b>"+d+"</b>"))})}}_progressAnimation(){jQuery("[data-progress-animation]").each(function(){const a=jQuery(this);a.appear(function(){const b=a.attr("data-appear-animation-delay")?a.attr("data-appear-animation-delay"):1;1<b&&a.css("animation-delay",b+"ms"),setTimeout(function(){a.animate({width:a.attr("data-progress-animation")},800)},b)},{accX:0,accY:-50})})}_xpthemeResizeMegamenu(){const a=jQuery("body").innerWidth();0<jQuery(".xptheme_custom_menu").length&&jQuery(".xptheme_custom_menu").hasClass("xptheme-vertical-menu")&&(767<a?this._resizeMegaMenuOnDesktop():this._initTreeViewForMegaMenuOnMobile()),0<jQuery(".xptheme-megamenu").length&&jQuery(".xptheme-megamenu,.xptheme-offcanvas-main").hasClass("verticle-menu")&&767<a&&this._resizeMegaMenuVertical()}_resizeMegaMenuVertical(){const a=parseInt(jQuery("#main-container.container").innerWidth()),b=parseInt(jQuery(".verticle-menu").innerWidth());jQuery(".verticle-menu").find(".aligned-fullwidth").children(".dropdown-menu").css({"max-width":a-b,width:a-30})}_resizeMegaMenuOnDesktop(){const a=jQuery("#main-container.container").innerWidth()-jQuery(".xptheme-vertical-menu").innerWidth(),b=jQuery("#main-container.container").innerWidth()-30;jQuery(".xptheme-vertical-menu").find(".aligned-fullwidth").children(".dropdown-menu").css({"max-width":a,width:b})}_initTreeViewForMegaMenuOnMobile(){"undefined"==typeof jQuery.fn.treeview||jQuery(".xptheme-vertical-menu > .widget_nav_menu >.nav > ul").each(function(){jQuery(this).hasClass("treeview")||jQuery(this).treeview(TREE_VIEW_OPTION_MEGA_MENU)})}_moveFormLogin(){0===jQuery(".woocommerce-form-login-toggle").length||jQuery(".woocommerce-form-login-toggle").parent().find(".woocommerce-form-login").insertAfter(jQuery(".woocommerce-form-login-toggle .woocommerce-info"))}_moveNoticesLogin(){0===jQuery(".woocommerce-form-login-toggle").length||jQuery(".woocommerce > .woocommerce-notices-wrapper").insertAfter(jQuery(".woocommerce-form-login-toggle .woocommerce-form-login "))}_moveFormCoupon(){0===jQuery(".woocommerce-form-coupon-toggle").length||jQuery(".woocommerce-form-coupon-toggle").parent().find(".woocommerce-form-coupon").insertAfter(jQuery(".woocommerce-form-coupon-toggle .woocommerce-info"))}_initHeaderCoverBG(){const a=jQuery(".xptheme-horizontal .navbar-nav > li,.xptheme-horizontal-default .navbar-nav > li, .xptheme_header-template .product-recently-viewed-header"),b=jQuery(".xptheme-search-form .xptheme-search"),c=jQuery(".category-inside .category-inside-title"),d=jQuery(".cart-popup");a.mouseenter(function(){0===jQuery(this).parents("#xptheme-header").length||0==jQuery(this).children(".dropdown-menu, ul, .sub-menu-wrap, .content-view").length||jQuery(".xptheme_header-template").addClass("nav-cover-active-1")}).mouseleave(function(){jQuery(this).closest(".dropdown-menu").length||jQuery(".xptheme_header-template").removeClass("nav-cover-active-1")}),b.focusin(function(){jQuery(this).closest(".dropdown-menu").length||0<b.parents(".sidebar-canvas-search").length||0===jQuery(this).closest(".xptheme_header-template").length||jQuery(".xptheme_header-template").addClass("nav-cover-active-2")}).focusout(function(){jQuery(".xptheme_header-template").removeClass("nav-cover-active-2")}),d.on("shown.bs.dropdown",function(a){jQuery(a.target).closest(".xptheme_header-template").addClass("nav-cover-active-3")}).on("hidden.bs.dropdown",function(a){jQuery(a.target).closest(".xptheme_header-template").removeClass("nav-cover-active-3")}),c.parents(".xptheme_header-template")&&(jQuery(document.body).on("xptheme_category_inside_open",()=>{jQuery(".xptheme_header-template").addClass("nav-cover-active-4")}),jQuery(document.body).on("xptheme_category_inside_close",()=>{jQuery(".xptheme_header-template").removeClass("nav-cover-active-4")}))}_initCanvasSearch(){const a=jQuery("#xptheme-search-form-canvas .sidebar-canvas-search .sidebar-content .xptheme-search");a.focusin(function(){a.parent().addClass("search_cv_active")}).focusout(function(){a.parent().removeClass("search_cv_active")})}_initTreeviewMenu(){"undefined"==typeof jQuery.fn.treeview||(jQuery("#category-menu").addClass("treeview"),jQuery(".treeview-menu .menu, #category-menu").treeview(TREE_VIEW_OPTION_MEGA_MENU),jQuery("#main-mobile-menu, #main-mobile-menu-xlg").treeview(TREE_VIEW_OPTION_MOBILE_MENU))}_categoryMenu(){jQuery(".category-inside .category-inside-title").on("click",function(){jQuery(event.target).parents(".category-inside").toggleClass("open");jQuery(event.target).parents(".category-inside").hasClass("setting-open")||(jQuery(event.target).parents(".category-inside").hasClass("open")?jQuery(document.body).trigger("xptheme_category_inside_open"):jQuery(document.body).trigger("xptheme_category_inside_close"))});const a=jQuery(window);a.on("click.Bst,click touchstart tap",function(a){const b=jQuery(".category-inside .category-inside-title, .category-inside-content");if((jQuery(".category-inside").hasClass("open")||jQuery(".xptheme_header-template").hasClass("nav-cover-active-4"))&&0==b.has(a.target).length&&!b.is(a.target)){const a=jQuery(".category-inside");jQuery.each(a,function(a,b){jQuery(b).hasClass("setting-open")||(jQuery(b).removeClass("open"),jQuery(".xptheme_header-template").removeClass("nav-cover-active-4"))})}})}_xpthemeMainContentMinHeight(){if(0!==jQuery("#xptheme-header").length){const a=0<jQuery("#xptheme-header").length?jQuery("#xptheme-header").outerHeight():0,b=0<jQuery("#xptheme-footer").length?jQuery("#xptheme-footer").outerHeight():0,c=0<jQuery("#wpadminbar").length?jQuery("#wpadminbar").outerHeight():0,d=0<jQuery(".xptheme-footer .xptheme-copyright").length?jQuery(".xptheme-footer .xptheme-copyright").css("margin-top").replace("px",""):0,f=jQuery(window).outerHeight();jQuery("#xptheme-main-content").css("min-height",f-a-b-c-d)}}_xpthemeCompareOpenAddClassBody(){jQuery(document.body).on("yith_woocompare_open_popup",()=>{jQuery("body").addClass("overflow-hidden")}),jQuery(document).bind("cbox_closed",()=>{jQuery("body").removeClass("overflow-hidden")})}_xpthemeImageColorTab(){0===jQuery(".xptheme-element-image-color-tab").length||jQuery(".tab-list-color .gallery-color-picker").on("click",function(a){jQuery(a.target).hasClass("active")||(jQuery(a.target).parent().find(".active").removeClass("active"),jQuery(a.target).addClass("active"),jQuery(a.target).parents(".content-wrapper").removeAttr("class").addClass("content-wrapper active-"+jQuery(a.target).data("color")))})}}class NewsLetter{constructor(){"undefined"==typeof jQuery.fn.modal||this._init()}_init(){let a=jQuery("#popupNewsletterModal .popupnewsletter-close, #popupNewsletterModal .btn-text-close");setTimeout(function(){(""==Cookies.get("newsletter_remove")||"undefined"==typeof Cookies.get("newsletter_remove"))&&jQuery("#popupNewsletterModal").modal("show")},3e3),a.off().on("click",function(a){jQuery(this).parents("#newsletter-popup").slideUp("slow"),Cookies.set("newsletter_remove","hidden",{expires:.1,path:"/"}),a.preventDefault()})}}class Search{constructor(){this._init()}_init(){this._xpthemeSearchMobile(),this._searchToTop(),this._searchCanvasForm(),jQuery(".button-show-search").on("click",function(){jQuery(".xptheme-search-form").addClass("active")}),jQuery(".button-hidden-search").on("click",function(){jQuery(".xptheme-search-form").removeClass("active")})}_xpthemeSearchMobile(){jQuery("#search-mobile-nav-cover").on("click",function(){jQuery(this).parent().find("form").removeClass("open")})}_searchToTop(){jQuery(".search-totop-wrapper .btn-search-totop").on("click",function(){jQuery(".search-totop-content").toggleClass("active"),jQuery(this).toggleClass("active")});var a=jQuery(".search-totop-wrapper .btn-search-totop, .search-totop-content");jQuery(window).on("click.Bst",function(b){0!=a.has(b.target).length||a.is(b.target)||(jQuery(".search-totop-wrapper .btn-search-totop").removeClass("active"),jQuery(".search-totop-content").removeClass("active"))})}_searchCanvasForm(){let a=jQuery("#xptheme-search-form-canvas");if(0===a.length)return;a.find("button.search-open").on("click",function(){jQuery(event.target).parents("#xptheme-search-form-canvas").addClass("open").find(".xptheme-search").focus(),jQuery("body").toggleClass("active-search-canvas")});let b=jQuery(window),c=jQuery("#xptheme-search-form-canvas .search-open, #xptheme-search-form-canvas .sidebar-content");b.on("click.Bst",function(b){a.hasClass("open")&&(0!=c.has(b.target).length||c.is(b.target)||(a.removeClass("open"),jQuery("body").removeClass("active-search-canvas")))}),a.find("button.btn-search-close").on("click",function(){a.hasClass("open")&&(a.removeClass("open"),jQuery("body").removeClass("active-search-canvas"))})}}class TreeView{constructor(){this._xpthemeTreeViewMenu()}_xpthemeTreeViewMenu(){const a=jQuery.fn.treeview,b=jQuery(".xptheme-treeview");"undefined"==typeof a||"undefined"==typeof b||b.each(function(){const a=jQuery(this).find("> ul");a.hasClass("treeview")||a.treeview({animated:400,collapsed:"1"==a.parents("nav").data("expand"),unique:!0,persist:"location"})})}}class Section{constructor(){this._xpthemeMegaMenu(),this._xpthemeRecentlyView()}_xpthemeMegaMenu(){const a=jQuery(".elementor-widget-xptheme-nav-menu");0===a.length||a.each(function(){const a=jQuery(this).closest(".elementor-column, .e-child"),b=jQuery(this).closest(".elementor-top-section, .e-parent");"horizontal"===jQuery(this).find(".xptheme-element-nav-menu").data("wrapper").layout&&(!a.hasClass("xptheme-column-static")&&a.addClass("xptheme-column-static"),!b.hasClass("xptheme-section-static")&&b.addClass("xptheme-section-static"))})}_xpthemeRecentlyView(){const a=jQuery(".product-recently-viewed-header");0===a.length||a.each(function(){const a=jQuery(this).closest(".elementor-column, .e-child"),b=jQuery(this).closest(".elementor-top-section, .e-parent");"header"===jQuery(this).data("wrapper").layout&&(!a.hasClass("xptheme-column-static")&&a.addClass("xptheme-column-static"),!a.hasClass("xptheme-column-recentlyviewed")&&a.addClass("xptheme-column-recentlyviewed"),!b.hasClass("xptheme-section-recentlyviewed")&&b.addClass("xptheme-section-recentlyviewed"),!b.hasClass("xptheme-section-static")&&b.addClass("xptheme-section-static"))})}}class Preload{constructor(){this._init()}_init(){const a=jQuery(".js-preloader");a.length&&a.jpreLoader({},function(){a.addClass("preloader-done"),jQuery("body").trigger("preloader-done"),jQuery(window).trigger("resize")}),jQuery(".item-loader").delay(100).fadeOut(400,function(){jQuery("body").removeClass("xptheme-body-loading"),jQuery(this).remove()}),jQuery(document.body).hasClass("tb-loader")&&setTimeout(function(){jQuery(document.body).removeClass("tb-loader"),jQuery(".item-loader").fadeOut(250)},300)}}class Accordion{constructor(){this._init()}_init(){const a=jQuery(".single-product");if(!a.length)return;const b=jQuery("#woocommerce-accordion");b.on("shown.bs.collapse",function(){const a=b.find(".collapse.show").prev(".tabs-title");a&&jQuery("html,body").animate({scrollTop:a.offset().top-150},500)})}}class CustomFonts{constructor(){this._init()}_init(){if(0!==jQuery(".list-xptheme-custom-fonts-body").length){jQuery(".code-preview").hide(),jQuery(".show-code").off().on("click",function(a){var b=jQuery("<input>");return jQuery("body").append(b),b.val(jQuery(this).find(".code-preview").text()).select(),document.execCommand("copy"),b.remove(),jQuery(this).children(".name").toggle(),jQuery(this).children(".code-preview").toggleClass("show"),a.stopPropagation(),!1});var a=[].slice.call(document.querySelectorAll("[data-bs-toggle=\"tooltip\"]"));a.map(function(a){return new bootstrap.Tooltip(a)}),jQuery("#quick-search").keyup(function(){var a=jQuery(this).val().trim().toLowerCase();jQuery(".icon-preview-box").hide().filter(function(){return-1!=jQuery(this).html().trim().toLowerCase().indexOf(a)}).show()}),jQuery(".font-size-changer a").on("click",function(a){a.preventDefault(),jQuery(".font-size-changer .active").removeClass("active"),jQuery(".icon-preview-box").removeClass("small-icons medium-icons large-icons").addClass(jQuery(this).attr("class")),jQuery(this).addClass("active")})}}}class MenuDropdownsAJAX{constructor(){this._initmenuDropdownsAJAX(jQuery)}_initmenuDropdownsAJAX(){var a=this;jQuery("body").on("mousemove",function(){jQuery(".menu").has(".dropdown-load-ajax").each(function(){var b=jQuery(this);b.hasClass("dropdowns-loading")||b.hasClass("dropdowns-loaded")||!a.isNear(b,50,event)||a.loadDropdowns(b)})})}loadDropdowns(a){var b=this;a.addClass("dropdowns-loading");var c="",d="",f="";"xptheme-mobile-menu-navbar"===a.closest("nav").attr("id")?(0<jQuery("#main-mobile-menu-mmenu-wrapper").length&&(f+="_"+jQuery("#main-mobile-menu-mmenu-wrapper").data("id")),c=themename_settings.storage_key+"_megamenu_"+f):c=themename_settings.storage_key+"_megamenu_"+a.closest("nav").data("id"),d=localStorage.getItem(c);var g=!1,h=a.find(".dropdown-load-ajax"),i=[];h.each(function(){i.push(jQuery(this).find(".dropdown-html-placeholder").data("id"))});var d=localStorage.getItem(c);try{g=JSON.parse(d)}catch(a){console.log("cant parse Json",a)}g?(b.renderResults(g,a),"xptheme-mobile-menu-navbar"!==a.attr("id")&&a.removeClass("dropdowns-loading").addClass("dropdowns-loaded")):jQuery.ajax({url:themename_settings.ajaxurl,data:{action:"themename_load_html_dropdowns",ids:i,security:themename_settings.wp_megamenunonce},dataType:"json",method:"POST",success:function(d){"success"===d.status?(b.renderResults(d.data,a),localStorage.setItem(c,JSON.stringify(d.data))):console.log("loading html dropdowns returns wrong data - ",d.message)},error:function(){console.log("loading html dropdowns ajax error")}})}renderResults(a,b){var c=this;Object.keys(a).forEach(function(d){c.removeDuplicatedStylesFromHTML(a[d],function(a){let c=a;const f="<li[^>]*><a[^>]*href=[\"]"+window.location.href+"[\"]>.*?</a></li>";let g=a.match(f);if(null!==g){let a=g[0],b=a.match(/(?:class)=(?:["']\W+\s*(?:\w+)\()?["']([^'"]+)['"]/g)[0].split("\"")[1],d=a.replace(b,b+" active");c=c.replace(a,d)}b.find("[data-id=\""+d+"\"]").replaceWith(c),"xptheme-mobile-menu-navbar"!==b.attr("id")&&(b.addClass("dropdowns-loaded"),setTimeout(function(){b.removeClass("dropdowns-loading")},1e3))})})}isNear(a,b,c){var d=a.offset().left-b,f=a.offset().top-b,g=d+a.width()+2*b,h=f+a.height()+2*b,i=c.pageX,j=c.pageY;return i>d&&i<g&&j>f&&j<h}removeDuplicatedStylesFromHTML(a,b){if(themename_settings.combined_css)return void b(a);else{let c=a.replace(/<style>.*?<\/style>/gm,"");return void b(c)}}}class MenuClickAJAX{constructor(){"undefined"==typeof themename_settings||this._initmenuClickAJAX()}_initmenuClickAJAX(){jQuery(".element-menu-ajax.ajax-active").each(function(){var a=jQuery(this);a.find(".menu-click").off("click").on("click",function(a){a.preventDefault();var b=jQuery(this);if(b.closest(".element-menu-ajax").hasClass("ajax-active")){var c=b.closest(".xptheme-element"),d=c.data("wrapper").type_menu,f=c.data("wrapper").layout,g="toggle"===d?c.find(".category-inside-content > nav"):c.find(".menu-canvas-content > nav"),h=g.data("id"),i=themename_settings.storage_key+"_"+h+"_"+f,j=!1,k=localStorage.getItem(i);try{j=JSON.parse(k)}catch(a){console.log("cant parse Json",a)}j?(g.html(j),c.removeClass("load-ajax"),b.closest(".element-menu-ajax").removeClass("ajax-active"),"treeview"===f?jQuery(document.body).trigger("xptheme_load_html_click_treeview"):jQuery(document.body).trigger("xptheme_load_html_click")):jQuery.ajax({url:themename_settings.ajaxurl,data:{action:"themename_load_html_click",slug:h,type_menu:d,layout:f,security:themename_settings.wp_menuclicknonce},dataType:"json",method:"POST",beforeSend:function(){c.addClass("load-ajax")},success:function(a){"success"===a.status?(g.html(a.data),localStorage.setItem(i,JSON.stringify(a.data)),"treeview"===f?jQuery(document.body).trigger("xptheme_load_html_click_treeview"):jQuery(document.body).trigger("xptheme_load_html_click")):console.log("loading html dropdowns returns wrong data - ",a.message),c.removeClass("load-ajax"),b.closest(".element-menu-ajax").removeClass("ajax-active")},error:function(){console.log("loading html dropdowns ajax error")}})}})})}}class CanvastemplateAJAX{constructor(){this._initcanvastemplateAJAX()}_initcanvastemplateAJAX(){jQuery(".canvas-template-ajax.ajax-active").each(function(){const a=jQuery(this);a.find(".menu-click").off("click").on("click",function(a){a.preventDefault();const b=jQuery(this);if(!b.closest(".canvas-template-ajax").hasClass("ajax-active"))return;const c=b.parent().find(".canvas-menu-content"),d=c.find(".canvas-content-ajax"),f=b.data("id"),g=themename_settings.storage_key+"_canvas_template_"+f;let h=!1;const i=localStorage.getItem(g);try{h=JSON.parse(i)}catch(a){console.log("cant parse Json",a)}h?(d.html(h),c.removeClass("load-ajax"),b.closest(".canvas-template-ajax").removeClass("ajax-active"),jQuery(document.body).trigger("xptheme_load_canvas_template_html_click")):jQuery.ajax({url:themename_settings.ajaxurl,data:{action:"themename_load_html_canvas_template_click",id:f,security:themename_settings.wp_templateclicknonce},dataType:"json",method:"POST",beforeSend:function(){c.addClass("load-ajax")},success:function(a){"success"===a.status?(d.html(a.data),localStorage.setItem(g,JSON.stringify(a.data)),jQuery(document.body).trigger("xptheme_load_canvas_template_html_click")):console.log("loading html dropdowns returns wrong data - ",a.message),c.removeClass("load-ajax"),b.closest(".canvas-template-ajax").removeClass("ajax-active")},error:function(){console.log("loading html dropdowns ajax error")}})})})}}class CndkBeforeAfter{constructor(){"undefined"==typeof jQuery.fn.cndkbeforeafter||this._beforeAfterImage()}_beforeAfterImage(){let a=jQuery(".xptheme-before-after-image-slider");if(0!==a.length){let b=a.parents(".xptheme-element-before-after-image-slider").data("settings");a.cndkbeforeafter({mode:b.mode,showText:b.showText,beforeText:b.beforeText,beforeTextPosition:b.beforeTextPosition,afterText:b.afterText,afterTextPosition:b.afterTextPosition,seperatorWidth:b.seperatorWidth.size+"px",seperatorOpacity:b.seperatorOpacity.size,theme:b.theme,autoSliding:b.autoSliding,autoSlidingStopOnHover:b.autoSlidingStopOnHover,hoverEffect:b.hoverEffect,enterAnimation:b.enterAnimation})}}}class Isotope{constructor(){"undefined"==typeof jQuery.fn.isotope||this._IsotopeRun()}_IsotopeRun(){var a=jQuery(".pf-isotope").isotope({itemSelector:".element-item",layoutMode:"masonry"});jQuery("#pf-filters").on("click","button",function(){var b=jQuery(this).attr("data-filter");a.isotope({filter:b})}),jQuery(".pf-button-group").each(function(a,b){var c=jQuery(b);c.on("click","button",function(){c.find(".is-checked").removeClass("is-checked"),jQuery(this).addClass("is-checked")})})}}class TimeTo{constructor(){"undefined"==typeof jQuery.fn.timeTo||this._init()}_init(){const a=jQuery("[data-time=\"timmer\"], [data-countdown=\"countdown\"]");a.each(function(){let a=jQuery(this).data("id"),b=jQuery(this).data("date").split("-");var c=new Date(""+b[2]+"-"+b[0]+"-"+b[1]+"T"+b[3]+":"+b[4]+":"+b[5]+"");jQuery("#countdown-"+a+"").timeTo({timeTo:new Date(c)})})}}class AutoComplete{constructor(){"undefined"==typeof jQuery.Autocomplete||"undefined"==typeof themename_settings||this._callAjaxSearch()}_callAjaxSearch(){const a=this,b=`${themename_settings.ajaxurl}?action=themename_autocomplete_search&security=${themename_settings.wp_searchnonce}`,c=jQuery("form.searchform.themename-ajax-search"),d=a=>a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");c.each(function(){const f=jQuery(this),g=f.find("input[name=s]"),h=f.data("post-type"),i=!!f.data("thumbnail"),j=!("product"!==h)&&!!f.data("subtitle"),k=!("product"!==h)&&!!f.data("price");g.devbridgeAutocomplete({serviceUrl:a._AutoServiceUrl(g,b),minChars:a._AutoMinChars(g),appendTo:a._AutoAppendTo(g),width:"100%",maxHeight:"initial",onSelect:a=>{0<a.link.length&&(window.location.href=a.link)},onSearchStart:()=>g.parents("form").addClass("xptheme-loading"),beforeRender:(a,b)=>{"undefined"!=typeof b[0].result&&jQuery(a).prepend(`<div class="list-header"><span>${b[0].result}</span></div>`),b[0].view_all&&jQuery(a).append(`<div class="view-all-products"><span>${themename_settings.show_all_text}</span></div>`)},onSearchComplete:()=>{c.removeClass("xptheme-loading"),jQuery(this).parents("form").addClass("open"),jQuery(document.body).trigger("xptheme_searchcomplete")},formatResult:(b,c)=>{let f=a._initformatResult(b,c,d,i,k,j);return f},onHide:function(){jQuery(this).parents("form").hasClass("open")&&jQuery(this).parents("form").removeClass("open")}}),jQuery("body").on("click",function(){g.is(":focus")||g.each(function(){jQuery(this).devbridgeAutocomplete("hide")})}),jQuery(".xptheme-search-clear").on("click",function(){jQuery(this).parents(".xptheme-search-form").removeClass("open"),jQuery(this).parents(".xptheme-search-form").find("input[name=s]").val("")})});const f=c.find("[name=\"product_cat\"], [name=\"category\"]");f.length&&f.change(function(c){const d=jQuery(c.target).parents("form").find("input[name=s]"),f=d.devbridgeAutocomplete();f.hide(),f.setOptions({serviceUrl:a._AutoServiceUrl(d,b)}),f.onValueChange()}),jQuery(document.body).on("xptheme_searchcomplete",function(){jQuery(".view-all-products").on("click",function(){jQuery(this).parents("form").submit(),e.stopPropagation()})})}_AutoServiceUrl(a,b){const c=a.parents("form"),d=parseInt(c.data("count")),f=c.data("post-type"),g=c.find("[name=\"product_cat\"], [name=\"category\"]").val();return 0<d&&(b+=`&number=${d}`),b+=`&post_type=${f}`,g&&(b+=`&product_cat=${g}`),b}_AutoAppendTo(a){const b=a.parents("form"),c="undefined"==typeof b.data("appendto")?b.find(".themename-search-results"):b.data("appendto");return c}_AutoMinChars(a){const b=a.parents("form"),c=parseInt(b.data("minchars"));return c}_initformatResult(a,b,c,d,f,g){if(a.no_found)return"<div class=\"suggestion-title no-found-msg\">"+a.value+"</div>";"&"==b&&(b="&#038;");const h="("+c(b)+")";let i="";return d&&a.image&&0<a.image.length&&(i+=" <div class=\"suggestion-thumb\">"+a.image+"</div>"),i+="<div class=\"suggestion-group\">",i+="<div class=\"suggestion-title product-title\"><span>"+a.value.replace(new RegExp(h,"gi"),"<strong>$1</strong>").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/&lt;(\/?strong)&gt;/g,"<$1>")+"</span></div>",g&&a.subtitle&&0<a.subtitle.length&&(i+="<div class=\"suggestion-subtitle product-subtitle\"><span>"+a.subtitle.replace(new RegExp(h,"gi"),"<strong>$1</strong>").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/&lt;(\/?strong)&gt;/g,"<$1>")+"</span></div>"),a.sku&&0<a.sku.length&&(i+="<div class=\"suggestion-sku product-sku\"><span>"+a.sku.replace(new RegExp(h,"gi"),"<strong>$1</strong>").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/&lt;(\/?strong)&gt;/g,"<$1>")+"</span></div>"),f&&a.price&&0<a.price.length&&(i+=" <div class=\"suggestion-price price\">"+a.price+"</div>"),i+="</div>",i}}class TBMmenu{constructor(){"undefined"==typeof Mmenu||this._initMmenu()}_initMmenu(){const a=jQuery("body");a.hasClass("admin-bar")&&jQuery("html").addClass("html-mmenu");const b="undefined"==typeof themename_settings?"":themename_settings.cancel;Mmenu.i18n({cancel:b});const c=jQuery("#xptheme-mobile-smartmenu");if(0===c.length)return;const d=c.data("themes"),f=c.data("title"),g=!!c.data("counters"),h=!!c.data("enableeffects"),i=h?c.data("effectspanels"):"",j=h?c.data("effectslistitems"):"";let k={offCanvas:!0,navbar:{title:f},counters:g,extensions:[d,i,j]};const l={navbars:[],searchfield:{}},m=jQuery("#mm-xptheme-bottom");0<m.length&&l.navbars.push({position:"bottom",content:""}),k=_.extend(l,k);const n=new Mmenu("#xptheme-mobile-menu-navbar",k,{offCanvas:{page:{selector:"#xptheme-main-content"}},searchfield:{clear:!0}});0<m.length&&m.prependTo(jQuery("#xptheme-mobile-menu-navbar .mm-navbars--bottom"));const o=jQuery("#mmenu-close");0<o.length&&o.prependTo(jQuery("#main-mobile-menu-mmenu")),jQuery(".mm-panels").css("top",jQuery(".mm-navbars_top").outerHeight()),jQuery(".mmenu-open").each(function(){jQuery(this).on("click",function(){n.API.open()})}),jQuery("#mmenu-close").on("click",function(){n.API.close()})}}class SumoSelect{constructor(){"undefined"==typeof jQuery.fn.SumoSelect||this._init()}_init(){jQuery(document).ready(function(){jQuery(".woocommerce-currency-switcher, .woocommerce-fillter >.select, .woocommerce-ordering > .orderby, .xptheme-filter select").SumoSelect({csvDispCount:3,captionFormatAllSelected:"Yeah, OK, so everything."});let a=jQuery(".xptheme-search-form");a.each(function(){jQuery(this).hasClass("xptheme-search-mobile")||jQuery(this).find("select").SumoSelect({forceCustomRendering:!0})})})}}class Gallery{constructor(){"undefined"==typeof PhotoSwipe||this._intGallery()}_intGallery(){const a=jQuery(".xptheme-element-custom-gallery");if(0===a.length)return;const b=a.find(".gallery-item").map(function(){const a=jQuery(this).find(".gallery-link");return{src:a.attr("href"),w:a.find("img").attr("width"),h:a.find("img").attr("height"),title:a.data("lightbox-title")}}).get();a.find(".gallery-link").off("click").on("click",function(a){a.preventDefault();const c=jQuery(".pswp")[0],d={index:jQuery(this).parents(".gallery-item").index(),showHideOpacity:!0,closeOnVerticalDrag:!1,mainClass:"pswp-gallery-images"},f=new PhotoSwipe(c,PhotoSwipeUI_Default,b,d);f.init(),a.stopPropagation()})}}class CountDownTimer{constructor(){"undefined"==typeof jQuery.fn.xpthemeCountDown||"undefined"==typeof themename_settings||this._CountDownTimer()}_CountDownTimer(){var a=this,b=jQuery("[data-time=\"timmer\"]:not(.scroll-init), [data-countdown=\"countdown\"]:not(.scroll-init)");0===b.length||(b.each(function(){a._initCountDownTimer(jQuery(this))}),jQuery("[data-time=\"timmer\"].scroll-init, [data-countdown=\"countdown\"].scroll-init").waypoint(function(){var b=jQuery(jQuery(this)[0].element);a._initCountDownTimer(b)},{offset:"100%"}))}_initCountDownTimer(a){let b=jQuery(a).data("date").split("-"),c=jQuery(a).data("days"),d=jQuery(a).data("hours"),f=jQuery(a).data("mins"),g=jQuery(a).data("secs");var h="",i=l=m=n=!0,j=":";if(0<jQuery(a).parents(".xptheme-element-countdown").length)var k=jQuery(a).parents(".xptheme-element-countdown").data("settings"),i=k.show_days,l=k.show_hours,m=k.show_minutes,j=k.custom_separator,n=k.show_seconds;i&&(h+="<div class=\"day\">%%D%%"+c+"</div><span>"+j+"</span>"),l&&(h+="<div class=\"hours\">%%H%%"+d+"</div><span>"+j+"</span>"),m&&(h+="<div class=\"minutes\">%%M%%"+f+"</div><span>"+j+"</span>"),n&&(h+="<div class=\"seconds\">%%S%%"+g+"</div>"),jQuery(a).xpthemeCountDown({TargetDate:b[0]+"/"+b[1]+"/"+b[2]+" "+b[3]+":"+b[4]+":"+b[5],DisplayFormat:"<div class=\"times\">"+h+"</div>",FinishMessage:""})}}class Sticky{constructor(){if("undefined"!=typeof themename_settings&&"undefined"!=typeof jQuery.fn.hcSticky){let a=jQuery("#sticky-menu-bar").outerHeight()||0;this._xpthemeProductSingleStick(a)}}_xpthemeProductSingleStick(a){992>jQuery(window).width()||0===jQuery("#xptheme-header").length&&0===jQuery("#xptheme-customize-header").length||(0<jQuery(".active-stick .summary-left, .active-stick .summary-right").length&&jQuery(".active-stick .summary-left, .active-stick .summary-right").hcSticky({stickTo:".active-stick .image-mains",top:(jQuery(".element-sticky-header").length?jQuery(".element-sticky-header").outerHeight()+50:50)+a}),0<jQuery(".active-stick .information").length&&jQuery(".active-stick .information").hcSticky({stickTo:".active-stick .image-mains",top:(jQuery(".element-sticky-header").length?jQuery(".element-sticky-header").outerHeight()+100:100)+a}))}}class Magnific{constructor(){"undefined"==typeof jQuery.magnificPopup||"undefined"==typeof themename_settings||(this._list_search_form_popup(),this._list_button_popup(),jQuery(document.body).on("xptheme_quick_view",()=>{this._list_button_popup()}))}_list_search_form_popup(){0===jQuery("#xptheme-search-form-popup").length||jQuery("#xptheme-search-form-popup .search-open").magnificPopup({type:"inline",fixedContentPos:"hidden",fixedBgPos:!0,closeBtnInside:!0,preloader:!1,showCloseBtn:!1,midClick:!0,focus:".xptheme-search",mainClass:"popup-mfp-search-form",callbacks:{open:function(){this.content.find(".btn-search-close").on("click",function(){jQuery.magnificPopup.close()})},close:function(){}}})}_list_button_popup(){0===jQuery(".popup-button-open").length||jQuery(".popup-button-open").magnificPopup({type:"inline",fixedContentPos:"hidden",fixedBgPos:!0,closeBtnInside:!0,preloader:!1,midClick:!0,removalDelay:300,mainClass:"popup-button-mfp-zoom-in xptheme-mfp-max-width"})}}jQuery(document).ready(a=>{if(new CustomFonts,new CanvastemplateAJAX,new MenuDropdownsAJAX,new MenuClickAJAX,new StickyHeader,new AccountMenu,new BackToTop,new FuncCommon,new NewsLetter,new Preload,new Search,new TreeView,new Accordion,new Section,new TimeTo,new CndkBeforeAfter,new Isotope,new AutoComplete,new CountDownTimer,new Gallery,new Sticky,new Magnific,new TBMmenu,1200>a(window).width()){var b=new Mobile;b._topBarDevice(),a(window).scroll(()=>{b._topBarDevice()})}new SumoSelect,a(document).on("woof_ajax_done",function(){new SumoSelect})}),setTimeout(function(){jQuery(document.body).on("xptheme_load_html_click_treeview",()=>{new TreeView})},2e3),jQuery(window).on("resize",()=>{if(1200>jQuery(window).width()){var a=new Mobile;a._topBarDevice(),jQuery(window).scroll(()=>{a._topBarDevice()})}jQuery(".mm-panels").css("bottom",jQuery(".mm-navbars_bottom").outerHeight())});var CustomFontsHandler=function(){new CustomFonts};jQuery(window).on("elementor/frontend/init",function(){elementorFrontend.isEditMode()&&"undefined"!=typeof themename_settings&&Array.isArray(themename_settings.elements_ready.customfonts)&&jQuery.each(themename_settings.elements_ready.customfonts,function(a,b){elementorFrontend.hooks.addAction("frontend/element_ready/xptheme-"+b+".default",CustomFontsHandler)})});var AutoCompleteHandler=function(){new AutoComplete};jQuery(window).on("elementor/frontend/init",function(){elementorFrontend.isEditMode()&&"undefined"!=typeof themename_settings&&Array.isArray(themename_settings.elements_ready.autocomplete)&&jQuery.each(themename_settings.elements_ready.autocomplete,function(a,b){elementorFrontend.hooks.addAction("frontend/element_ready/xptheme-"+b+".default",AutoCompleteHandler)})});var CndkBeforeAfterHandler=function(){new CndkBeforeAfter};jQuery(window).on("elementor/frontend/init",function(){elementorFrontend.isEditMode()&&"undefined"!=typeof themename_settings&&elementorFrontend.hooks.addAction("frontend/element_ready/xptheme-before-after-image-slider.default",CndkBeforeAfterHandler)});var CountDownTimerHandler=function(){new CountDownTimer};jQuery(document.body).on("xptheme_quick_view",()=>{new CountDownTimer}),jQuery(window).on("elementor/frontend/init",function(){elementorFrontend.isEditMode()&&"undefined"!=typeof themename_settings&&Array.isArray(themename_settings.elements_ready.countdowntimer)&&jQuery.each(themename_settings.elements_ready.countdowntimer,function(a,b){elementorFrontend.hooks.addAction("frontend/element_ready/xptheme-"+b+".default",CountDownTimerHandler)})});var IsotopeHandler=function(){new Isotope};jQuery(window).on("elementor/frontend/init",function(){elementorFrontend.isEditMode()&&"undefined"!=typeof themename_settings&&Array.isArray(themename_settings.elements_ready.isotope)&&jQuery.each(themename_settings.elements_ready.isotope,function(a,b){elementorFrontend.hooks.addAction("frontend/element_ready/xptheme-"+b+".default",IsotopeHandler)})});
